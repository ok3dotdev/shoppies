(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{25:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n.n(c),i=n(17),r=n.n(i),o=(n(25),n(3)),l=n(6),u=n(19);var j=function(e){var t=e.handleInput,n=e.search;return Object(s.jsxs)("section",{className:"search",children:[Object(s.jsx)(u.a,{className:"icon"}),Object(s.jsx)("input",{className:"searchbox",type:"text",placeholder:"Search movies here",onChange:t,onKeyPress:n})]})};var O=function(e){var t=e.handleInput,n=e.search;return Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("h1",{children:"The Shoppies"}),Object(s.jsx)("h6",{children:"Submission by Henry Oke."}),Object(s.jsx)(j,{handleInput:t,search:n})]})},b=n(8);var m=function(e,t){switch(t.type){case"ADD_MOVIE_TO_NOMINATIONS":return Object(o.a)(Object(o.a)({},e),{},{nominations:5===e.nominations.length?Object(b.a)(e.nominations):[].concat(Object(b.a)(e.nominations),[t.payload])});case"REMOVE_MOVIE_FROM_NOMINATIONS":return Object(o.a)(Object(o.a)({},e),{},{nominations:e.nominations.filter((function(e){return e.imdbID!==t.payload}))});default:return e}},d={nominations:localStorage.getItem("nominations")?JSON.parse(localStorage.getItem("nominations")):[]},h=Object(c.createContext)(d),f=function(e){var t=Object(c.useReducer)(m,d),n=Object(l.a)(t,2),a=n[0],i=n[1];Object(c.useEffect)((function(){localStorage.setItem("nominations",JSON.stringify(a.nominations))}),[a]);return Object(s.jsx)(h.Provider,{value:{nominations:a.nominations,removeMovieFromNominations:function(e){i({type:"REMOVE_MOVIE_FROM_NOMINATIONS",payload:e})},addMovieToNominations:function(e){i({type:"ADD_MOVIE_TO_NOMINATIONS",payload:e})}},children:e.children})};var x=function(e){var t=e.result,n=Object(c.useContext)(h),a=n.addMovieToNominations,i=!!n.nominations.find((function(e){return e.imdbID===t.imdbID}));return Object(s.jsxs)("ul",{className:"results result",children:[Object(s.jsxs)("li",{className:"result-title",children:[t.Title," ","",Object(s.jsxs)("span",{children:["(",t.Year,")"]})]}),Object(s.jsx)("button",{className:"btn",disabled:i,onClick:function(){return a(t)},children:"Nominate"})]})};var N=function(e){var t=e.results;return Object(s.jsxs)("section",{className:"results nominations",children:[Object(s.jsx)("h3",{children:"Search results..."}),!t||t.length<1?Object(s.jsx)("h1",{children:"Please search for Movies"}):t.map((function(e){return Object(s.jsx)(x,{result:e},e.imdbID)}))]})};var v=function(){var e=Object(c.useContext)(h),t=e.nominations,n=e.removeMovieFromNominations;return Object(c.useEffect)((function(){5===t.length&&alert("Thank you for you Nominations!")}),[t]),Object(s.jsxs)("section",{className:"results nominations",children:[Object(s.jsx)("h3",{children:"Nominations"}),Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsxs)("div",{className:"result results",children:[Object(s.jsxs)("li",{className:"result-title",children:[e.Title," ","",Object(s.jsxs)("span",{children:["(",e.Year,")"]})]}),Object(s.jsx)("button",{onClick:function(){return n(e.imdbID)},className:"btn",children:"Remove"})]},e.imdbID)}))})]})},p=n(18),I=n.n(p);var y=function(){var e=Object(c.useState)({query:"",results:[]}),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(s.jsx)(f,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(O,{handleInput:function(e){e.preventDefault();var t=e.target.value;a((function(e){return Object(o.a)(Object(o.a)({},e),{},{query:t})}))},search:function(e){"Enter"===e.key&&I()("https://www.omdbapi.com/?apikey=c00d1dfe&s="+n.query).then((function(e){var t=e.data.Search;a((function(e){return Object(o.a)(Object(o.a)({},e),{},{results:t})}))}))}}),Object(s.jsxs)("main",{className:"main",children:[Object(s.jsx)(N,{results:n.results}),Object(s.jsx)(v,{})]})]})})};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.966ab1d7.chunk.js.map